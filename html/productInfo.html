<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechCode-产品信息</title>
    <link rel="stylesheet" href="./css/productInfo.css" />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="../css/top.css" />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/foot.css" />
    <link rel="stylesheet" href="../css/copyright.css" />
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1356455_c5d3d3ohlbq.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="highlight/styles/railscasts.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@1,700&display=swap" rel="stylesheet">
</head>

<body>

    <body tabindex="-1">
        <div class="edison-header">
            <div class="container">
                <div class="header-inner-wrap">
                    <div class="logo">
                        <span class="wsite-logo">
                            <a href="/">
                                <span id="wsite-title">TECH CODE</span>
                            </a>
                        </span>
                    </div>
                    <div class="nav-wrap">
                        <div class="nav desktop-nav">
                            <ul class="wsite-menu-default">
                                <li id="active" class="wsite-menu-item-wrap">
                                    <a href="/" class="wsite-menu-item">
                                        主页
                                    </a>
                                </li>
                                <li id="pg695107136787074782" class="wsite-menu-item-wrap has-submenu">
                                    <a href="/product" class="wsite-menu-item">
                                        产品
                                    </a>
                                    <div class="wsite-menu-wrap">
                                        <ul class="wsite-menu">
                                            <li id="pg695107136787074782" class="wsite-menu-subitem-wrap">
                                                <a href="/product" class="wsite-menu-subitem">
                                                    产品
                                                </a>
                                            </li>
                                            <li id="wsite-nav-656255702513029941" class="wsite-menu-subitem-wrap">
                                                <a href="/compare" class="wsite-menu-item">
                                                    <span class="wsite-menu-title">
                                                        对比
                                                    </span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li id="pg686450546927473873" class="wsite-menu-item-wrap">
                                    <a href="/evaluation" class="wsite-menu-item">
                                        测评
                                    </a>
                                </li>
                                <li id="pg103030197960015510" class="wsite-menu-item-wrap">
                                    <a href="/3616435759.html" class="wsite-menu-item">
                                        资讯
                                    </a>
                                </li>
                                <li id="pg881371934255644335" class="wsite-menu-item-wrap">
                                    <a href="/forum" class="wsite-menu-item">
                                        论坛
                                    </a>
                                </li>
                                <li id="pg140230651504229610" class="wsite-menu-item-wrap">
                                    <a href="/login_register" class="wsite-menu-item">
                                        注册
                                    </a>
                                </li>
                                <li id="pg190149529979835302" class="wsite-menu-item-wrap">
                                    <a href="/login_register" class="wsite-menu-item">
                                        登录
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wsite-spacer" style="height:100px;"></div>
        <header>
            <h1>产品参数</h1>
        </header>
        <div class="product-container">
            <img src="/img/nvidia_geforce_rtx_3080_angle_1598979564701.jpg" alt="Product Image" class="product-image">
            <div class="left-bg-text">TechCode</div>
            <div class="right-bg-text">TechCode</div>
            <div id="product-details-1"></div>
        </div>
        <a href="https://www.bilibili.com/video/BV1oV41127q5/?share_source=copy_web&vd_source=d964b80c7192e3503dbcdc4bc2c41a81"
            class="review-link"><button class="comparison-button">查看测评</button></a>
        <button class="comparison-button" onclick="location.href='/compare'">产品对比</button>
        <div id="commentsSection">
            <h2>用户评论</h2>
            <div class="comment-list"></div>
        </div>
        <div class="user-ratings">
            <h3>打个分吧！</h3>
            <section class="container">
                <div class="rate-content">
                    <input type="radio" name="rate">
                    <input type="radio" name="rate">
                    <input type="radio" name="rate">
                    <input type="radio" name="rate">
                    <input type="radio" name="rate">
                </div>
            </section>
            <div>
                <h3>留下你的评价:</h3>
                <textarea id="userComment" name="userComment" rows="4" cols="50" placeholder="说说你的看法吧!"></textarea>
            </div>
            <button class="post-button" id="submitRating" type="button">提交</button>
        </div>
        <div class="wsite-spacer" style="height:40px;"></div>
        <footer>
            <div class="footcontent">
                <div class="footer-wrapper">
                    <h4 class="footer-title">Quick Link</h4>
                    <ul class="footer-menu footer-2-menu">
                        <li><a href="/index">主页</a></li>
                        <li><a href="/product">产品</a></li>
                        <li><a href="/evaluation">测评</a></li>
                        <li><a href="#">资讯</a></li>
                        <li><a href="/forum">论坛</a></li>
                        <li><a href="#">我的</a></li>
                        <li><a href="#">帮助和支持</a></li>
                      </ul>
                </div>
                <div class="subscription">
                    <div>
                        <h4 class="dingyuetit">订阅我们</h4>
                        <p></p>
                        <p></p>
                        <div class="subscription-input-wrapper">
                            <input type="email" name="輸入你的郵箱*" required="" placeholder="輸入你的郵箱*" id="comp-jucjyt59input"
                                value="" class="sub">
                            <a href="index.html">
                                <button2 class="button2" type="button">現在訂閲</button2>
                            </a>
                        </div>
                        <img class="subcon" src="img/connect.png">
                    </div>
                    <div></div>
                </div>
                </p>
                <div class="contact-wrapper">
                    <div>
                        <h4 class="footer-title">联系我们</h4>
                        <ul class="footer-link">
                            <li>广州工商学院, 三水校区 <br> 广东，中国
                            </li>
                            <li><a href="/cdn-cgi/l/email-protection" class="__cf_email__"
                                    data-cfemail="1e7f7a7377705e7b667f736e727b307d7173">[email&#160;protected]</a>
                            </li>
                            <li>114- 5141919810</li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>
        </div>
        <div class="copyright">
            <p class="bs">&copy; 2023 by TechCode. Proudly created by Deng Yumin</p>
        </div>
        <script>
            const submitRating = document.getElementById('submitRating');
            const commentsSection = document.getElementById('commentsSection');

            const existingComments = [
                {
                    userName: 'user3',
                    rating: 4.5,
                    comment: '特别好的一张卡! 我太喜欢它了!'
                },
                {
                    userName: 'user1',
                    rating: 3,
                    comment: '还行吧，但是性能没达到我的预期。'
                }
            ];

            const commentList = document.querySelector('.comment-list');

            function displayComments() {
                existingComments.forEach((commentData) => {
                    const commentDiv = document.createElement('div');
                    const userNameP = document.createElement('p');
                    const ratingSpan = document.createElement('span');
                    const commentP = document.createElement('p');

                    userNameP.className = 'user-name';
                    userNameP.textContent = commentData.userName;
                    ratingSpan.className = 'rating';
                    ratingSpan.textContent = `评分: ${commentData.rating}`;
                    commentP.className = 'comment';
                    commentP.textContent = commentData.comment;

                    commentDiv.className = 'comment-container';
                    commentDiv.appendChild(userNameP);
                    commentDiv.appendChild(ratingSpan);
                    commentDiv.appendChild(commentP);
                    commentList.appendChild(commentDiv);
                });
            }

            function handleSubmitRating() {
                const userName = document.getElementById('userName').value;
                const rating = parseFloat(document.querySelector('input[name="rate"]:checked').value);
                const comment = document.getElementById('userComment').value;

                existingComments.push({ userName, rating, comment });
                commentsSection.innerHTML = '<h3>User Ratings and Reviews:</h3>';
                displayComments();
            }

            function loadProductDetails() {
                const productId = 1; 
                if (productId) {
                    $.get(`/api/products/${productId}`, function (product) {
                        const details = `
                            <h2 class="product-title">${product.model}</h2>
                            <table>
                            <tr>
                                <th>品牌</th>
                                <td>${product.brand}</td>
                            </tr>
                            <tr>
                                <th>型号</th>
                                <td>${product.model}</td>
                            </tr>
                            <tr>
                                <th>类型</th>
                                <td>${product.type}</td>
                            </tr>
                            <tr>
                                <th>参数</th>
                                <td><pre>${product.parameters}</pre></td>
                            </tr>
                            <tr>
                                <th>参考价格</th>
                                <td>${product.price} 元</td>
                            </tr>
                            </table>
                        `;
                        $('#product-details-1').html(details);
                    });
                } else {
                    $('#product-details-1').empty();
                }
            }

            $(document).ready(function () {
                loadProductDetails();
            });
            $(document).ready(function () {
                const productDetails = '#product-details-1';
                loadProductDetails(productDetails);
            });

            submitRating.addEventListener('click', handleSubmitRating);
            displayComments();
        </script>
    </body>
</body>

</html>